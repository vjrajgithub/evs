!function(t,e){"function"==typeof define&&define.amd?define(e):t.tooltip||(t.tooltip=e())}(this,function(){var t={tooltipId:"tooltip",offsetDefault:15},e=[],o=null;function i(t){t&&(o=e.concat(),e=[]),Array.prototype.forEach.call(document.querySelectorAll("[data-tooltip]"),function(i,n){var s,u=i.getAttribute("title").trim();t&&o.length&&o[n]&&o[n].text&&(0===u.length&&(i.setAttribute("title",o[n].text),u=o[n].text),i.removeEventListener("mousemove",r),i.removeEventListener("mouseout",d),i.removeEventListener("mouseover",l)),u&&(i.setAttribute("title",""),i.setAttribute("data-tooltip-id",n),s=function(t){var e;if(t.length)try{e=JSON.parse(t.replace(/'/gi,'"'))}catch(t){console.log(t)}return e}(i.getAttribute("data-tooltip")),e[n]={text:u,options:s},i.addEventListener("mousemove",r),i.addEventListener("mouseout",d),i.addEventListener("mouseover",l))}),t&&(o=null)}function n(){return document.querySelector("#"+t.tooltipId)}function r(o){var i=this.getAttribute("data-tooltip-id"),r=n(),d=i&&e[i]&&e[i].options,l=d&&d.offset||t.offsetDefault,s=window.scrollY||window.pageYOffset,u=window.scrollX||window.pageXOffset,a=o.pageY+l,f=o.pageX+l;r&&(a=a-s+r.offsetHeight+20>=window.innerHeight?a-r.offsetHeight-20:a,f=f-u+r.offsetWidth+20>=window.innerWidth?f-r.offsetWidth-20:f,r.style.top=a+"px",r.style.left=f+"px")}function d(t){var e=n();e&&document.querySelector("body").removeChild(e)}function l(o){var i=this.getAttribute("data-tooltip-id"),n=i&&e[i]&&e[i].text;n&&function(o,i){var n=document.createElement("div"),r=document.createTextNode(o),d=i&&e[i]&&e[i].options;d&&d.class&&n.setAttribute("class",d.class),n.setAttribute("id",t.tooltipId),n.appendChild(r),document.querySelector("body").appendChild(n)}(n,i)}return window.addEventListener("load",i),{setOptions:function(e){for(var o in e)t.hasOwnProperty(o)&&(t[o]=e[o])},refresh:function(){i(!0)}}});